<launch>

  <rosparam command="load" file="/media/andreas/SLAM_data/vi-sensor/1juni/camcam_cal_results/camchain-camcam_cal_half_res_2019-06-01-13-44-19.yaml"/>


    <node name="kalibr_undistort" pkg="image_undistort" type="stereo_undistort_node">

    <param name="input_camera_info_from_ros_params" value="true"/>
    <param name="first_camera_namespace" value="/cam0"/>
    <param name="second_camera_namespace" value="/cam1"/>
    <param name="output_image_type" value="bgr8"/>
    <param name="output_camera_info_source" value="ros_params"/>
    <param name="T_invert" value="false"/>
    <remap from="raw/first/image" to="/camera/left/image_raw"/>
    <remap from="raw/second/image" to="/camera/right/image_raw"/>
  </node>

  <node name="orb_slam2_stereo" pkg="orb_slam2_ros"
      type="orb_slam2_ros_stereo" args="
          $(find orb_slam2_ros)/orb_slam2/Vocabulary/ORBvoc.txt
          $(find orb_slam2_ros)/orb_slam2/config/VI_sensor_stereo_underwater.yaml"
      output="screen">
      <remap from="image_left/image_color_rect" to="/rect/first/image" />
      <remap from="image_right/image_color_rect" to="/rect/second/image" />
      <param name="publish_pointcloud" type="bool" value="true" />
      <param name="publish_pose" type="bool" value="true" />
      <param name="pointcloud_frame_id" type="string" value="map" />
      <param name="camera_frame_id" type="string" value="camera_link" />
  </node>
</launch>
